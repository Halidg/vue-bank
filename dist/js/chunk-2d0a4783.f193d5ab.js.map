{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?3fbe"],"names":["class","for","value","loading","request","back","title","fio","tel","currency","amount","type","status","id","remove","hasChanges","update","$route","params","setup","route","store","router","dispatch","push","data","components","AppPage","AppLoader","AppStatus","__exports__","render"],"mappings":"2IAGQ,eAA8B,cAAtB,iBAAa,G,EACrB,eAAwB,cAAhB,WAAO,G,EACf,eAAsB,cAAd,SAAK,G,EACb,eAAuB,cAAf,UAAM,G,iBAAS,M,GAErBA,MAAM,gB,EACP,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAExB,eAAsC,UAA9BC,MAAM,QAAO,YAAQ,G,EAC7B,eAA0C,UAAlCA,MAAM,aAAY,WAAO,G,EACjC,eAAuC,UAA/BA,MAAM,UAAS,WAAO,G,EAC9B,eAA4C,UAApCA,MAAM,WAAU,eAAW,G,GAHnC,EACA,EACA,EACA,G,SAOIF,MAAM,0B,8HApBC,EAAAG,S,iBAAlB,eAAwC,YACC,EAAAC,S,iBAAzC,eAkBW,G,MAlBDC,KAAA,GAAKC,MAAM,U,yBACpB,iBAAsD,CAAtD,eAAsD,UAAnD,E,eAA8B,KAAE,eAAE,EAAAF,QAAQG,KAAG,KAChD,eAAgD,UAA7C,E,eAAwB,KAAE,eAAE,EAAAH,QAAQI,KAAG,KAC1C,eAA2D,UAAxD,E,eAAsB,KAAE,eAAE,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KACpD,eAAqE,UAAlE,E,EAAyB,eAAqC,GAAxBC,KAAM,EAAAP,QAAQQ,Q,mBAEvD,eAQO,MARP,EAQO,CAPH,E,eACA,eAKQ,UALCC,GAAG,S,qDAAkB,EAAAD,OAAM,K,gBAAN,EAAAA,YAQlC,eAA2D,UAAnDZ,MAAM,aAAc,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,WACD,EAAAC,Y,iBAA1C,eAAuE,U,MAA/Df,MAAM,MAAO,QAAK,8BAAE,EAAAgB,QAAA,EAAAA,OAAA,sBAA0B,a,mDAEvD,eAEK,KAFL,EAA0C,iBACzB,eAAE,EAAAC,OAAOC,OAAOL,IAAI,SACrC,I,gHAaW,GACXM,MADW,WAET,IAAMC,EAAQ,iBACRC,EAAQ,iBACRlB,EAAU,gBAAI,GACdC,EAAS,eAAI,IACbQ,EAAS,iBACTU,EAAS,iBAEf,eAAS,wCAAC,2GACNnB,EAAQD,OAAM,EADR,SAEgBmB,EAAME,SAAS,kBAAkBH,EAAMF,OAAOL,IAF9D,OAENT,EAAQF,MAFF,OAGNU,EAAOV,MAAP,UAAeE,EAAQF,aAAvB,aAAe,EAAeU,OAC9BT,EAAQD,OAAQ,EAJV,4CAOV,IAAMa,EAAa,gBAAS,kBAAMX,EAAQF,MAAMU,SAAWA,EAAOV,SAE5DY,EAAK,yDAAI,8GACPO,EAAME,SAAS,iBAAiBH,EAAMF,OAAOL,IADtC,OAEbS,EAAOE,KAAK,KAFC,2CAAJ,qDAKLR,EAAK,yDAAI,2GACNS,EADM,iCACKrB,EAAQF,OADb,IACmBU,OAAQA,EAAOV,MAAOW,GAAGO,EAAMF,OAAOL,KADzD,SAENQ,EAAME,SAAS,iBAAiBE,GAF1B,OAGZrB,EAAQF,MAAMU,OAASA,EAAOV,MAHlB,2CAAJ,qDAMX,MAAO,CAACC,UAAQC,UAAQK,WAAA,KAASG,SAAOE,SAAOE,SAAOD,eAGxDW,WAAW,CAACC,UAAA,KAAQC,YAAA,KAAUC,YAAA,O,qBC/DlC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0a4783.f193d5ab.js","sourcesContent":["<template>\r\n    <app-loader v-if=\"loading\"></app-loader>\r\n    <app-page back title=\"Заявка\" v-else-if=\"request\">\r\n     <p><strong>Имя владельца</strong>: {{request.fio}}</p>\r\n     <p><strong>Телефон</strong>: {{request.tel}}</p>\r\n     <p><strong>Сумма</strong>: {{currency(request.amount)}}</p>\r\n     <p><strong>Статус</strong>: <app-status :type=\"request.status\" /></p>\r\n   \r\n     <div class=\"form-control\">\r\n         <label for=\"status\">Статус</label>\r\n         <select  id=\"status\" v-model=\"status\">\r\n           <option value=\"done\">Завершен</option>\r\n           <option value=\"cancelled\">Отменен</option>\r\n           <option value=\"active\">Активен</option>\r\n           <option value=\"pending\">Выполняется</option>\r\n        </select>\r\n      </div> \r\n\r\n     <button class=\"btn danger\" @click=\"remove\">удалить</button>\r\n     <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">обновить</button>\r\n    </app-page>\r\n    <h3 v-else class=\"text-center text-white\">\r\n        завяки с ID ={{$route.params.id}} нет.\r\n    </h3>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport {ref,onMounted,computed} from 'vue'\r\nimport AppPage from '../components/ui/AppPage.vue'\r\nimport AppLoader from '../components/ui/AppLoader.vue'\r\nimport AppStatus from '../components/ui/AppStatus.vue'\r\nimport {currency} from '../utils/currency'\r\n\r\nexport default {\r\n    setup() {\r\n      const route = useRoute()\r\n      const store = useStore()\r\n      const loading = ref(true)\r\n      const request =ref({})\r\n      const status = ref()\r\n      const router = useRouter()\r\n\r\n      onMounted(async ()=>{\r\n          loading.value=true\r\n          request.value = await store.dispatch('request/loadOne',route.params.id)\r\n          status.value = request.value?.status\r\n          loading.value = false\r\n      })\r\n      \r\n      const hasChanges = computed(() => request.value.status  !==status.value)\r\n\r\n      const remove = async () => {\r\n        await store.dispatch('request/remove',route.params.id)\r\n        router.push('/')\r\n      }\r\n\r\n      const update = async () => {\r\n         const data = {...request.value,status: status.value, id:route.params.id}\r\n         await store.dispatch('request/update',data)\r\n         request.value.status = status.value\r\n      }\r\n\r\n      return {loading,request,currency,status,remove,update,hasChanges}\r\n    },\r\n\r\n    components:{AppPage,AppLoader,AppStatus}\r\n}\r\n</script>","import { render } from \"./Request.vue?vue&type=template&id=1c205431\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Comp\\\\Desktop\\\\vue\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}